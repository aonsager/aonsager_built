<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Installing Python3 modules on Macs in 2024</title>
  <meta name="description" content="My personal webpage and blog.">
  <link rel="stylesheet" href="/assets/css/main.css?v=20250210">
  <link rel="stylesheet" href="/assets/css/lightbox.min.css">
  <link rel="canonical" href="https://invisibleparade.com/2024/11/21/installing-python3-modules-on-macs-in-2024.html">
  <link rel="alternate" type="application/rss+xml" title="Invisible Parade" href="/feed.xml">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Invisible Parade" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta content="Invisible Parade" property="og:site_name">
<meta content="Installing Python3 modules on Macs in 2024" property="og:title">
<meta content="article" property="og:type">
<meta content="When trying to install python modules on a new Mac, I kept getting thwarted by this error: error: externally-managed-environment × This environment is externally managed ╰─&gt; To install Python pa..." property="og:description">
<meta content="https://invisibleparade.com/2024/11/21/installing-python3-modules-on-macs-in-2024.html" property="og:url">
<script defer src="https://beans.alexonsager.com/script.js" data-website-id="5b90f085-e9ee-40a7-9b51-2fc1fa9ae0d4"></script>
</head>

<body>
  <header class="site-header" role="banner">
  <div class="wrapper" style="position:relative;">
    <a class="site-title" href="/">
      <div class="logo-container">
        <div class="full" style="float:left;">
          <svg id="header-logo-black" width="80" height="50" xmlns="http://www.w3.org/2000/svg">
            <circle cx="20" cy="26" r="20" fill="#fdfdfd" stroke="black" stroke-width="2" stroke-dasharray="2, 2" />
            <circle cx="40" cy="26" r="20" fill="black" />
          </svg>
          <svg id="header-logo-white" width="80" height="50" xmlns="http://www.w3.org/2000/svg">
            <circle cx="20" cy="26" r="20" fill="#2d2d2d" stroke="#c8c4bc" stroke-width="2" stroke-dasharray="2, 2" />
            <circle cx="40" cy="26" r="20" fill="#c8c4bc" />
          </svg>
        </div>
        <div class="compact" style="float:left;">
          <svg id="header-logo-black" width="55" height="50" xmlns="http://www.w3.org/2000/svg">
            <circle cx="15" cy="24" r="12" fill="#fdfdfd" stroke="black" stroke-width="2" stroke-dasharray="2, 2" />
            <circle cx="30" cy="24" r="12" fill="black" />
          </svg>
          <svg id="header-logo-white" width="55" height="50" xmlns="http://www.w3.org/2000/svg">
            <circle cx="15" cy="24" r="12" fill="#2d2d2d" stroke="#c8c4bc" stroke-width="2" stroke-dasharray="2, 2" />
            <circle cx="30" cy="24" r="12" fill="#c8c4bc" />
          </svg>
        </div>
        <div style="float:left;">
          Invisible Parade
        </div>
      </div>
    </a>
  </div>
  <div class="header-banner"></div>
  <div class="wrapper">
    <nav class="site-nav">
      <a class="page-link" href="/about/">About</a>
      <a class="page-link" href="/projects/">Projects</a>
      <a class="page-link" href="/archive/">Archive</a>
      <a class="page-link" href="/feed.xml">RSS</a>
    </nav>
  </div>
</header>

  <main class="page-content" aria-label="Content">
    <article class="post wrapper" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
      <h1>
        <a class="post-link" href="/2024/11/21/installing-python3-modules-on-macs-in-2024.html">Installing Python3 modules on Macs in 2024</a>
      </h1>
      <div class="post-banner" style="background-image:linear-gradient(-45deg, #AB0001, #AFAEAF, #B20001, #056B97, #B80000)"></div>
</header>
    <div class="post-content single" itemprop="articleBody">
      <p>When trying to install python modules on a new Mac, I kept getting thwarted by this error:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>error: externally-managed-environment

× This environment is externally managed
╰─&gt; To <span class="nb">install </span>Python packages system-wide, try brew <span class="nb">install
    </span>xyz, where xyz is the package you are trying to
    install.
    
    If you wish to <span class="nb">install </span>a non-brew-packaged Python package,
    create a virtual environment using python3 <span class="nt">-m</span> venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip.
    
    If you wish to <span class="nb">install </span>a non-brew packaged Python application,
    it may be easiest to use pipx <span class="nb">install </span>xyz, which will manage a
    virtual environment <span class="k">for </span>you. Make sure you have pipx installed.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing <span class="nt">--break-system-packages</span><span class="nb">.</span>
hint: See PEP 668 <span class="k">for </span>the detailed specification.
</code></pre></div></div>

<p>It seems like installing modules into a virtual environment is the way to go, which is what I had been doing for individual applications, but I wanted to be able to run this script from Alred workflows.</p>

<h2 id="create-a-virtualenv-in-a-central-place-that-is-easy-to-access">Create a virtualenv in a central place that is easy to access</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-m</span> venv ~/.virtualenvs/python3
<span class="nb">source</span> ~/.virtualenvs/python3/bin/activate
pip <span class="nb">install </span>xyz
</code></pre></div></div>

<h2 id="use-this-virtualenv-whenever-i-run-the-script">Use this virtualenv whenever I run the script</h2>

<p>By specifying the python executable inside the virtualenv we created, we can be sure that it can access the modules we installed there.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/.virtualenvs/python3/bin/python /path/to/my/script.py <span class="s2">"{query}"</span>
</code></pre></div></div>

<h2 id="bonus">Bonus</h2>

<p>Add an alias to my <code class="language-plaintext highlighter-rouge">~/.zshrc</code> so that can just type <code class="language-plaintext highlighter-rouge">vpython /path/to/my/script.py</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">vpython</span><span class="o">=</span><span class="s1">'~/.virtualenvs/python3/bin/python'</span>
</code></pre></div></div>

    </div>
    <div class="post-meta">
      Nov 21, 2024
    </div>
    <div class="post-tag">python</div>
    <div class="post-tag">mac</div>
    <div class="post-tag">virtualenv</div>
    <div class="post-tag">installation</div>
    <hr />
    <div class="post-related">
        <h4>Related Posts</h4>
<ul class="archive-list">
<li><a href="/2019/04/18/adding-css-support-for-dark-mode.html">Adding CSS Support for Dark Mode</a></li>
      <li><a href="/2014/03/31/replace-text-in-file-osx-service.html">Replace Text in File - OSX Service</a></li>
      <li><a href="/2014/03/24/terminal-theme.html">Terminal Theme</a></li>
      <li><a href="/2013/05/22/save-to-pocket-osx-service.html">Save to Pocket - OSX Service</a></li>
      <li><a href="/2008/03/19/original-ichat-ui.html">Original iChat UI</a></li>
      </ul></div>
    <hr />
    <div class="post-comments">
        <script defer src="https://commento.invisibleparade.com/js/commento.js"></script>
<div id="commento"></div>
</div>
  </article>

  </main>
  <footer class="site-footer">
  <div class="wrapper">
    <p>By Alex Onsager.&nbsp;&nbsp;&nbsp;<a href="/contact">Say hello!</a></p>
  </div>
</footer>

</body>
</html>
